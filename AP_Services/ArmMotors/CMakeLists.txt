cmake_minimum_required(VERSION 3.16.3)

project("arm_motors")

# Find requirements
find_package(fastcdr REQUIRED)
find_package(fastrtps REQUIRED)

find_package(microcdr REQUIRED)
find_package(microxrcedds_client REQUIRED)

add_executable(ArmMotors
  ArmMotors_main.cpp
  ArmMotors_service.cpp
  ArmMotors.cxx
  ArmMotorsPubSubTypes.cxx
  # Generated by fastddsgen, but not used for the service.
  # ArmMotorsPublisher.cxx
  # ArmMotorsSubscriber.cxx
  # ArmMotorsPubSubMain.cxx
)
target_link_libraries(ArmMotors
  fastcdr
  fastrtps
)

add_executable(ArmMotorsMicro
  ArmMotors_xrce.cpp
)
target_include_directories(ArmMotorsMicro
  PRIVATE
  ${microcdr_INCLUDE_DIR}
  ${microxrcedds_client_INCLUDE_DIR}  
)
target_link_directories(ArmMotorsMicro
  PRIVATE
  ${microcdr_LIB_DIR}
  ${microxrcedds_client_LIB_DIR}  
)
target_link_libraries(ArmMotorsMicro
  microcdr
  microxrcedds_client
)

